"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[578],{60578:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});var l=t(59835),o=t(86970);const s={class:"row"},n={class:"col-3 notPrint"},i={class:"col-6 notPrint"},d={class:"col-xs-12 col-sm-6 notPrint"},r={key:0,class:"q-pb-sm"},u={key:0,class:"q-pl-sm col-xs-12 col-sm-6"};function c(e,a,t,c,v,p){const m=(0,l.up)("q-checkbox"),h=(0,l.up)("q-select"),f=(0,l.up)("q-date"),V=(0,l.up)("Corte"),w=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(w,{padding:""},{default:(0,l.w5)((()=>{var t,c,v,p,w,b;return[(0,l._)("div",s,[(0,l._)("div",n,[(0,l.Wm)(m,{"left-label":"",modelValue:e.esMayorista,"onUpdate:modelValue":a[0]||(a[0]=a=>e.esMayorista=a),label:"Corte Mayorista"},null,8,["modelValue"])]),(0,l._)("div",i,[(0,l.Wm)(m,{"left-label":"",modelValue:e.esRuta,"onUpdate:modelValue":a[1]||(a[1]=a=>e.esRuta=a),label:"Corte Ruta"},null,8,["modelValue"])]),(0,l._)("div",d,[(0,l.Wm)(h,{filled:"",modelValue:e.series,"onUpdate:modelValue":a[2]||(a[2]=a=>e.series=a),options:e.seriesVendedor,"use-chips":"","stack-label":"",label:"Series de facturación",multiple:""},null,8,["modelValue","options"]),e.dates?((0,l.wg)(),(0,l.iD)("div",r," Del: "+(0,o.zw)(null!==(t=e.dates["from"])&&void 0!==t?t:null!==(c=e.dates)&&void 0!==c?c:"")+" al "+(0,o.zw)(null!==(v=e.dates["to"])&&void 0!==v?v:null!==(p=e.dates)&&void 0!==p?p:""),1)):(0,l.kq)("",!0),(0,l.Wm)(f,{modelValue:e.dates,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dates=a),range:"",landscape:"","today-btn":""},null,8,["modelValue"])]),e.dates?((0,l.wg)(),(0,l.iD)("div",u,[e.contraValid?((0,l.wg)(),(0,l.j4)(V,{key:0,Series:e.series,FechaInical:null!==(w=e.dates["from"])&&void 0!==w?w:e.dates,FechaFinal:null!==(b=e.dates["to"])&&void 0!==b?b:e.dates,Clientes:e.esMayorista||e.esRuta},null,8,["Series","FechaInical","FechaFinal","Clientes"])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])]})),_:1})}var v=t(60499),p=t(13695),m=t(54170),h=t(67825),f=t(68651),V=t(34136),w=t(18910),b=function(e,a,t,l){function o(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,s){function n(e){try{d(l.next(e))}catch(a){s(a)}}function i(e){try{d(l["throw"](e))}catch(a){s(a)}}function d(e){e.done?t(e.value):o(e.value).then(n,i)}d((l=l.apply(e,a||[])).next())}))};const y=(0,l.aZ)({components:{Corte:p["default"]},setup(){const e=m.ZP.formatDate(Date.now(),"YYYY/MM/DD"),a=(0,v.iH)(e),t=(0,v.iH)([]),l=(0,v.iH)([]),o=((0,v.iH)([]),(0,v.iH)(!1)),s=(0,w.tv)(),n=(0,v.iH)(!1),i=(0,v.iH)(!1),d=()=>{r()},r=()=>{var e,a,s;t.value=[],i.value||(o.value?l.value=[null!==(e=(0,h.JT)())&&void 0!==e?e:"",null!==(a=(0,h.V6)())&&void 0!==a?a:""]:l.value=[null!==(s=(0,h.dS)())&&void 0!==s?s:""])},u=()=>b(this,void 0,void 0,(function*(){let e=yield(0,f.UA)("Contraseña","INGRESE EL CÓDIGO DE AUTORIZACIÓN","password");if(null!==e)return""===e?((0,f.x2)("Debe ingresar la contraseña para generar el corte",{timeout:2500,position:"top"}),void u()):void(yield V.api.post(V.endPoints.CORTE+"ValidaContra",e).then((e=>{n.value=!0})).catch((e=>{(0,f.L1)(e),u()})));s.replace("/INIT/POS")})),c=()=>{var e;o.value=!1,l.value=[null!==(e=(0,h.nZ)())&&void 0!==e?e:""]};return{getSeriesVendedor:d,setSeries:r,validaContra:u,setSerieRuta:c,dates:a,series:t,seriesVendedor:l,esMayorista:o,contraValid:n,esRuta:i}},created(){return b(this,void 0,void 0,(function*(){yield this.validaContra(),this.getSeriesVendedor()}))},watch:{esMayorista(){this.setSeries()},esRuta(){this.setSerieRuta()}}});var C=t(11639),g=t(69885),k=t(11221),S=t(26384),D=t(92952),R=t(69984),q=t.n(R);const Z=(0,C.Z)(y,[["render",c]]),I=Z;q()(y,"components",{QPage:g.Z,QCheckbox:k.Z,QSelect:S.Z,QDate:D.Z})}}]);