"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[3123],{73123:(e,n,a)=>{a.r(n),a.d(n,{default:()=>T});var l=a(59835),o=a(86970);const t={class:"row"},s={key:0,class:"col-12"},i={class:"row justify-center q-ma-md"},u={class:"col-12 col-sm-6 col-md-6"},r={class:"q-ma-sm"},c={class:"row q-ma-md"};function d(e,n,d,p,m,w){const g=(0,l.up)("q-space"),h=(0,l.up)("q-btn"),f=(0,l.up)("install-banner"),b=(0,l.up)("q-spinner-cube"),v=(0,l.up)("q-slide-transition"),y=(0,l.up)("q-img"),k=(0,l.up)("q-card-section"),q=(0,l.up)("q-input"),_=(0,l.up)("q-icon"),Z=(0,l.up)("q-form"),S=(0,l.up)("q-card"),W=(0,l.up)("q-page"),Q=(0,l.up)("q-page-container"),C=(0,l.up)("q-layout");return(0,l.wg)(),(0,l.j4)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l._)("div",t,[(0,l.Wm)(g),e.$q.platform.is.mobile?((0,l.wg)(),(0,l.iD)("div",s)):(0,l.kq)("",!0),(0,l.Wm)(h,{color:"primary",icon:"change_circle",label:"Cambiar Empresa",onClick:e.changeSetting,outline:""},null,8,["onClick"])]),(0,l.Wm)(f),(0,l._)("div",i,[(0,l._)("div",u,[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[e.loading?((0,l.wg)(),(0,l.j4)(b,{key:0,color:"blue",size:"100%"})):(0,l.kq)("",!0)])),_:1}),e.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(S,{key:0,class:"bg-dark text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[e.getLogo()?((0,l.wg)(),(0,l.j4)(y,{key:0,class:"bg-white q-pa-md",src:a(76209)("./"+e.getLogo()),style:{"max-width":"100%",height:"150px"},fit:"contain","spinner-color":"primary","spinner-size":"82px"},null,8,["src"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(k,{class:"center",id:"login-sucursal"},{default:(0,l.w5)((()=>[(0,l._)("h4",r,"Login "+(0,o.zw)(e.empresa),1)])),_:1}),(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{onSubmit:e.onSubmit},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{dark:"",color:"white",autofocus:"",modelValue:e.user,"onUpdate:modelValue":n[0]||(n[0]=n=>e.user=n),type:"text",label:"Usuario",rules:[e=>e&&e.length>0||"Ingrese el usuario"]},null,8,["modelValue","rules"]),(0,l.Wm)(q,{dark:"",for:"login-pass",label:"Contraseña",modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n),type:e.showPassword?"text":"password",rules:[e=>e&&e.length>0||"Ingrese una contraseña"]},{prepend:(0,l.w5)((()=>[(0,l.Wm)(_,{name:"lock",color:"white"})])),append:(0,l.w5)((()=>[(0,l.Wm)(_,{name:e.showPassword?"visibility":"visibility_off",onClick:e.changeShow,color:"white"},null,8,["name","onClick"])])),_:1},8,["modelValue","type","rules"]),(0,l._)("div",c,[(0,l.Wm)(h,{id:"login-submit",color:"primary",label:"Ingresar",class:"col-12",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1}))])])])),_:1})])),_:1})])),_:1})}var p=a(60499),m=a(18910),w=a(34136),g=a(68651),h=a(67825),f=a(37655),b=a(61563),v=a(3833),y=function(e,n,a,l){function o(e){return e instanceof a?e:new a((function(n){n(e)}))}return new(a||(a=Promise))((function(a,t){function s(e){try{u(l.next(e))}catch(n){t(n)}}function i(e){try{u(l["throw"](e))}catch(n){t(n)}}function u(e){e.done?a(e.value):o(e.value).then(s,i)}u((l=l.apply(e,n||[])).next())}))};const k=(0,l.aZ)({setup(){(0,h.ov)(),(0,h.RY)(),(0,h.gy)();const e=(0,m.tv)(),n=(0,p.iH)((0,h.oc)()),a=(0,p.iH)(!1);let l=(0,p.iH)(""),o=(0,p.iH)(""),t=(0,p.iH)(!1),s=(0,p.iH)(!1);const i=()=>{!0===t.value?t.value=!1:t.value=!0},u=()=>y(this,void 0,void 0,(function*(){let n={User:l.value,Pass:o.value};a.value=!0,(0,f.Q)(),yield w.api.post(w.endPoints.USUARIO,n).then((n=>{null!==n.data?((0,h.$V)(l.value),(0,h.o4)(n.data.Token),(0,g.dF)("Bienvenid@ "+l.value),e.replace("/ERP")):(0,g.x2)("Contraseña incorrecta")})).catch((e=>{(0,g.L1)(e)})).finally((()=>{a.value=!0,(0,f.E)()}))})),r=()=>{let n=(0,h.Zf)(),a=(0,h.dS)(),l=(0,h.oc)();if(null===n||null===a||null===l||""===l)e.push("/");else{const o="/"+l+"/LOGIN/"+n+"/"+a;e.push(o)}},c=()=>{v.Z.remove("EMPRESA"),e.replace("/")};return{empresa:n,user:l,password:o,showPassword:t,loading:s,loadLogin:a,changeShow:i,onSubmit:u,getLogo:h.R7,validarDatos:r,changeSetting:c}},created(){},mounted(){},beforeRouteUpdate(e){},beforeMount(){this.$nextTick((()=>{}))},components:{InstallBanner:b.Z}});var q=a(11639),_=a(20249),Z=a(12133),S=a(69885),W=a(90136),Q=a(68879),C=a(69003),x=a(49155),I=a(44458),P=a(63190),L=a(91487),U=a(8326),V=a(13119),H=a(22857),R=a(69984),j=a.n(R);const E=(0,q.Z)(k,[["render",d],["__scopeId","data-v-2e4e851f"]]),T=E;j()(k,"components",{QLayout:_.Z,QPageContainer:Z.Z,QPage:S.Z,QSpace:W.Z,QBtn:Q.Z,QSlideTransition:C.Z,QSpinnerCube:x.Z,QCard:I.Z,QCardSection:P.Z,QImg:L.Z,QForm:U.Z,QInput:V.Z,QIcon:H.Z})}}]);