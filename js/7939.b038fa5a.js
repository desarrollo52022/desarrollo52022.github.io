"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[7939],{87939:(e,l,o)=>{o.r(l),o.d(l,{default:()=>A});var a=o(59835);const d={class:"row"},t={class:"col-xs-3 col-md-2"},s={class:"col-xs-9 col-md-5"},n={class:"col-xs-4 col-sm-2 col-md-2"},u={class:"col-xs-8 col-sm-10 col-md-3"},i={style:{height:"500px"}};function r(e,l,o,r,c,m){const p=(0,a.up)("q-input"),g=(0,a.up)("q-toggle"),b=(0,a.up)("q-select"),v=(0,a.up)("q-btn"),V=(0,a.up)("q-form"),f=(0,a.up)("q-icon"),h=(0,a.up)("q-table"),w=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(w,{padding:""},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{onSubmit:e.onSubmit,class:"q-gutter-md",onReset:e.clear},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",t,[(0,a.Wm)(p,{modelValue:e.codigo,"onUpdate:modelValue":l[0]||(l[0]=l=>e.codigo=l),type:"number",label:"C칩digo",disable:""},null,8,["modelValue"])]),(0,a._)("div",s,[(0,a.Wm)(p,{modelValue:e.nombre,"onUpdate:modelValue":l[1]||(l[1]=l=>e.nombre=l),type:"text",label:"Nombre",counter:"",rules:[e=>e.length<=40||"El nombre no puede ser mayor a 40 caracteres"]},null,8,["modelValue","rules"])]),(0,a._)("div",n,[(0,a.Wm)(g,{modelValue:e.estado,"onUpdate:modelValue":l[2]||(l[2]=l=>e.estado=l),color:"green",label:"Estado","left-label":""},null,8,["modelValue"])]),(0,a._)("div",u,[(0,a.Wm)(p,{modelValue:e.pass,"onUpdate:modelValue":l[3]||(l[3]=l=>e.pass=l),type:"text",label:"Contrase침a",counter:"",rules:[e=>e.length<=15||"La contrase침a no puede ser mayor a 15 caracteres"]},null,8,["modelValue","rules"])]),(0,a.Wm)(b,{class:"col-xs-12 col-sm-2",modelValue:e.tipo,"onUpdate:modelValue":l[4]||(l[4]=l=>e.tipo=l),options:e.tipos,label:"Tipo",filled:""},null,8,["modelValue","options"]),(0,a.Wm)(b,{class:"col-xs-12 col-sm-10",modelValue:e.bodega,"onUpdate:modelValue":l[5]||(l[5]=l=>e.bodega=l),options:e.bodegas,label:"Bodegas",filled:"","option-value":"Codigo","option-label":"Nombre",multiple:"","map-options":""},null,8,["modelValue","options"])]),(0,a._)("div",null,[(0,a.Wm)(v,{label:"Guardar",type:"submit",color:"primary"}),(0,a.Wm)(v,{label:"Limpiar",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"]),(0,a._)("div",i,[(0,a.Wm)(h,{class:"full-height",title:"Vendedores",rows:e.vendedores,columns:e.columns,filter:e.filter,pagination:{rowsPerPage:0},onRowClick:e.selectVendedor},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(p,{for:"pos-buscar-detalles",borderless:"",dense:"",modelValue:e.filter,"onUpdate:modelValue":l[6]||(l[6]=l=>e.filter=l),placeholder:"Buscar Vendedores",clearable:""},{append:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter","onRowClick"])])])),_:1})}var c=o(34136),m=o(68651),p=o(60499);const g=[{name:"Codigo",label:"C칩digo",field:"Codigo",align:"center"},{name:"Nombre",label:"Nombre",field:"Nombre",align:"center"},{name:"Estado",label:"Estado",field:"Estado",align:"center"}],b=(0,a.aZ)({setup(){const e=(0,p.iH)(null),l=(0,p.iH)(null),o=(0,p.iH)(!0),a=(0,p.iH)(""),d=(0,p.iH)(["VE","AD","DE","CA","SA"]),t=(0,p.iH)("VE"),s=(0,p.iH)([]),n=(0,p.iH)([]),u=(0,p.iH)(""),i=(0,p.iH)([]),r=()=>{c.api.get(c.endPoints.DATOSVEND+"All").then((e=>{i.value=e.data})).catch((e=>{(0,m.L1)(e)}))},b=()=>{c.api.get(c.endPoints.BODEGA).then((e=>{s.value=e.data})).catch((e=>{(0,m.L1)(e)}))},v=()=>{var d=n.value.map((e=>parseInt(e.Codigo)));let s={Codigo:e.value,Nombre:l.value,Estado:1==o.value?"A":"I",Referencia:a.value,Tipo:t.value,Bodegas:d};c.api.post(c.endPoints.DATOSVEND+"Nuevo",s).then((e=>{(0,m.dF)("Vendedor guardado"),h(),r()})).catch((e=>{(0,m.L1)(e)}))},V=(d,s,u)=>{e.value=s.Codigo,l.value=s.Nombre,o.value="A"==s.Estado,a.value=s.Referencia,t.value=s.Tipo,n.value=s.Bodegas},f=()=>{if(null!==e.value&&""!==e.value.toString()){var d=i.value.find((l=>l.Codigo==e.value));if(void 0!==d)return e.value=d.Codigo,l.value=d.Nombre,o.value="A"==d.Estado,a.value=d.Referencia,t.value=d.Tipo,void(n.value=d.Bodegas)}h()},h=()=>{e.value=null,l.value="",o.value=!0,a.value="",t.value="VE",n.value=[]};return{getVendedores:r,getBodegas:b,onSubmit:v,selectVendedor:V,findVend:f,clear:h,vendedores:i,columns:g,codigo:e,nombre:l,estado:o,pass:a,tipos:d,tipo:t,bodegas:s,bodega:n,filter:u}},watch:{codigo(e){this.findVend()}},created(){this.getBodegas(),this.getVendedores()}});var v=o(11639),V=o(69885),f=o(8326),h=o(13119),w=o(23175),C=o(26384),E=o(68879),W=o(84277),N=o(22857),_=o(69984),q=o.n(_);const y=(0,v.Z)(b,[["render",r]]),A=y;q()(b,"components",{QPage:V.Z,QForm:f.Z,QInput:h.Z,QToggle:w.Z,QSelect:C.Z,QBtn:E.Z,QTable:W.Z,QIcon:N.Z})}}]);