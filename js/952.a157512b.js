"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[952],{70952:(o,e,l)=>{l.r(e),l.d(e,{default:()=>Q});var a=l(59835);const t={class:"row"},r={class:"row q-ma-sm"},c={class:"row full-width"};function n(o,e,l,n,u,i){const d=(0,a.up)("q-btn"),s=(0,a.up)("q-input"),p=(0,a.up)("q-option-group"),m=(0,a.up)("q-checkbox"),b=(0,a.up)("q-td"),P=(0,a.up)("q-table"),g=(0,a.up)("q-card-section"),w=(0,a.up)("q-card"),v=(0,a.up)("q-dialog"),h=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(h,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",t,[(0,a.Wm)(d,{class:"col-1",color:"primary",icon:"search",onClick:e[0]||(e[0]=e=>o.showDialog=!0),outline:""}),(0,a.Wm)(s,{class:"col-10 q-ml-sm",modelValue:o.producto,"onUpdate:modelValue":e[1]||(e[1]=e=>o.producto=e),type:"text",label:"Producto",dense:""},null,8,["modelValue"])]),(0,a.Wm)(p,{for:"pos-tipo",class:"q-pa-sm",modelValue:o.tipo,"onUpdate:modelValue":e[2]||(e[2]=e=>o.tipo=e),options:[{label:"Mes",value:"M"},{label:"Día",value:"D"}],color:"primary",inline:""},null,8,["modelValue"]),(0,a._)("div",r,[(0,a.Wm)(s,{class:"col",modelValue:o.tiempo,"onUpdate:modelValue":e[3]||(e[3]=e=>o.tiempo=e),type:"number",label:"Tiempo"},null,8,["modelValue"]),(0,a.Wm)(s,{class:"col",modelValue:o.clientes,"onUpdate:modelValue":e[4]||(e[4]=e=>o.clientes=e),type:"number",label:"Cantidad clientes"},null,8,["modelValue"]),(0,a.Wm)(m,{modelValue:o.colaborador,"onUpdate:modelValue":e[5]||(e[5]=e=>o.colaborador=e),label:"Producto Colaborador"},null,8,["modelValue"])]),(0,a.Wm)(d,{color:"primary",icon:"save",label:"Guardar",onClick:o.guardar},null,8,["onClick"]),(0,a.Wm)(d,{color:"primary",icon:"brush",label:"Limpiar",onClick:o.reset},null,8,["onClick"]),(0,a._)("div",null,[(0,a.Wm)(P,{title:"Productos",rows:o.productos,columns:o.columnas,"row-key":"name",onRowDblclick:e[6]||(e[6]=(e,l,a)=>{o.producto=l.Producto,o.tipo=String(l.Tipo).substring(0,1),o.tiempo=l.Tiempo,o.clientes=l.Clientes,o.colaborador=l.Pcolaborador}),pagination:{rowsPerPage:0}},{"body-cell-Pcolaborador":(0,a.w5)((o=>[(0,a.Wm)(b,{props:o},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.row.Pcolaborador,"onUpdate:modelValue":e=>o.row.Pcolaborador=e,dense:"",disable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,a.Wm)(v,{modelValue:o.showDialog,"onUpdate:modelValue":e[10]||(e[10]=e=>o.showDialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"row items-center"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Wm)(s,{class:"col",modelValue:o.productoBuscar,"onUpdate:modelValue":e[7]||(e[7]=e=>o.productoBuscar=e),type:"text",label:"Producto"},null,8,["modelValue"]),(0,a.Wm)(s,{class:"col",modelValue:o.descripcionBuscar,"onUpdate:modelValue":e[8]||(e[8]=e=>o.descripcionBuscar=e),type:"text",label:"Descripción"},null,8,["modelValue"])]),(0,a.Wm)(P,{ref:"bcRef",rows:o.productosGeneral,columns:o.columnasProducto,"row-key":"Producto",pagination:{rowsPerPage:0},style:{height:"570px"},class:"full-width",onRowDblclick:e[9]||(e[9]=(e,l,a)=>{o.producto=l.Producto,o.showDialog=!1,o.productoBuscar="",o.descripcionBuscar=""})},null,8,["rows","columns"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var u=l(34136),i=l(68651),d=l(60499),s=l(17779),p=function(o,e,l,a){function t(o){return o instanceof l?o:new l((function(e){e(o)}))}return new(l||(l=Promise))((function(l,r){function c(o){try{u(a.next(o))}catch(e){r(e)}}function n(o){try{u(a["throw"](o))}catch(e){r(e)}}function u(o){o.done?l(o.value):t(o.value).then(c,n)}u((a=a.apply(o,e||[])).next())}))};const m=[{name:"Producto",label:"Producto",field:"Producto",align:"center"},{name:"Tipo",label:"Tipo",field:"Tipo",align:"center"},{name:"Tiempo",label:"Tiempo",field:"Tiempo",align:"center"},{name:"Clientes",label:"Clientes",field:"Clientes",align:"center"},{name:"Pcolaborador",label:"P. Colaborador",field:"Pcolaborador",align:"center"}],b=[{required:!0,name:"Producto",label:"Producto",field:"Producto",align:"center",sortable:!0},{name:"Descripcion",label:"Descripción",field:"Descripcion",align:"center",sortable:!0}],P=(0,a.aZ)({setup(){const o=(0,d.iH)(""),e=(0,d.iH)(""),l=(0,d.iH)(""),a=(0,d.iH)(""),t=(0,d.iH)(!1),r=(0,d.iH)([]),c=(0,d.iH)(""),n=(0,d.iH)(""),P=(0,d.iH)([]),g=(0,d.iH)(!1),w=()=>{u.api.get(u.endPoints.GYMPRODUCTOS).then((o=>{r.value=o.data})).catch((o=>{(0,i.L1)(o)}))},v=()=>p(this,void 0,void 0,(function*(){if(null===e.value||""===e.value)return void(0,i.x2)("Debe seleccionar el tipo");let t={Producto:o.value,Tipo:e.value,Tiempo:l.value,Clientes:a.value,Pcolaborador:g.value};yield u.api.post(u.endPoints.GYMPRODUCTOS,t).then((o=>{(0,i.dF)("Guardado correctamente"),w()})).catch((o=>{(0,i.L1)(o)}))})),h=()=>p(this,void 0,void 0,(function*(){yield u.api.get(u.servicesUrlProd+u.endPoints.PRODUCTOS,(0,u.configApi)({queryParams:{producto:c.value,descripcion:n.value,tipo:null}})).then((o=>{s.log(o.data);let e=[]=o.data.Productos;P.value=e})).catch((o=>{s.log(o)}))})),f=()=>{o.value="",e.value="",l.value="",a.value="",g.value=!1};return{getProducto:w,guardar:v,getProductosGeneral:h,reset:f,producto:o,tipo:e,tiempo:l,clientes:a,showDialog:t,productos:r,columnas:m,columnasProducto:b,productoBuscar:c,descripcionBuscar:n,productosGeneral:P,colaborador:g}},created(){this.getProducto()},watch:{productoBuscar(o){this.getProductosGeneral()},descripcionBuscar(o){this.getProductosGeneral()}}});var g=l(11639),w=l(69885),v=l(68879),h=l(13119),f=l(8830),V=l(11221),C=l(84277),y=l(67220),D=l(32074),T=l(44458),W=l(63190),k=l(11821),q=l(62146),U=l(69984),Z=l.n(U);const B=(0,g.Z)(P,[["render",n]]),Q=B;Z()(P,"components",{QPage:w.Z,QBtn:v.Z,QInput:h.Z,QOptionGroup:f.Z,QCheckbox:V.Z,QTable:C.Z,QTd:y.Z,QDialog:D.Z,QCard:T.Z,QCardSection:W.Z,QCardActions:k.Z}),Z()(P,"directives",{ClosePopup:q.Z})}}]);