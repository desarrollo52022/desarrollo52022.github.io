"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[6959],{86959:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ne});var s=l(59835),c=l(86970);const i={key:0,class:"q-pa-lg report-letter-p",id:"documento"},a={class:"row"},o={class:"col-2 row items-center text-center"},n=["src"],r={class:"col-5 q-pa-sm"},d={class:"text-center text-weight-bold"},u={class:"text-center"},_={class:"text-center"},v={class:"text-center"},b={class:"text-center"},w={class:"col-5 q-pa-sm"},h=(0,s._)("div",{class:"text-center text-weight-bold"},"DOCUMENTO EMITIDO EN CONTINGENCIA",-1),g=(0,s._)("div",{class:"text-center text-weight-bold"},"CÓDIGO DE ACCESO",-1),E={class:"text-center text-weight-bold"},T={class:"text-center"},m={class:"text-center"},x=(0,s._)("div",{class:"col-12 q-pl-md"},"SUJETO A PAGOS TRIMESTRALES",-1),C={class:"borde"},p={class:"row"},N=(0,s._)("div",{class:"col-2 borde"},"NOMBRE: ",-1),A={class:"col-6 borde"},S=(0,s._)("div",{class:"col-1 borde"},"NIT:",-1),f={class:"col-3 borde"},D={class:"row"},I=(0,s._)("div",{class:"col-2 borde"},"DIRECCION:",-1),L={class:"col borde"},O={class:"row"},z=(0,s._)("div",{class:"col-3 borde"},"CODIGO DE CLIENTE:",-1),R=(0,s._)("div",{class:"col borde"},"1",-1),k=(0,s._)("div",{class:"col-2 borde"},"LE ATENDIO:",-1),y={class:"col borde"},F=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"break2Lines",style:{width:"15%"}},"Cantidad"),(0,s._)("th",{class:"break2Lines",style:{width:"25%"}},"Descripcion"),(0,s._)("th",{class:"break2Lines",style:{width:"8%"}},"Precio"),(0,s._)("th",{class:"break2Lines",style:{width:"15%"}},"Subtotal")])],-1),q={class:"break2Lines"},P={class:"break2Lines"},U={class:""},M={class:"break2Lines"},H={class:""},G={class:"break2Lines"},B={class:""},Z={class:"break2Lines"},Q={class:"row q-mt-sm"},$=(0,s.uE)('<div class="col-5"><div class="text-center"><hr class="q-mb-none dotted"></div><div class="text-center">DATOS DEL CERTIFICADOR</div><div class="text-center">INFILE, S.A</div><div class="text-center">NIT: 12521337</div><div class="text-center"><hr class="q-mt-none dotted"></div></div><div class="col-2"></div>',2),J={class:"col-5 q-pr-md"},W={class:"row"},K=(0,s._)("div",{class:"col"},"SUBTOTAL:",-1),V={class:"col text-right"},X={class:"row"},Y=(0,s._)("div",{class:"col"},"DESCUENTO:",-1),j={class:"col text-right",style:{"border-bottom":"1px double"}},ee={class:"row"},te=(0,s._)("div",{class:"col"},"TOTAL A PAGAR:",-1),le={class:"col text-right"},se=(0,s._)("div",{class:"row q-pa-sm"}," EL PRESENTE DOCUMENTO EN CONTINGENCIA SE ADJUNTARÁ A LA FACTURA ELECTRÓNICA CUANDO SEA EMITIDA ",-1),ce=(0,s._)("br",null,null,-1),ie=(0,s._)("br",null,null,-1),ae=(0,s._)("br",null,null,-1),oe=(0,s._)("div",{class:"text-center"},[(0,s._)("div",null,"___________________________________"),(0,s._)("div",null,"FIRMA DEL CLIENTE")],-1);function ne(e,t,ne,re,de,ue){const _e=(0,s.up)("q-markup-table");return null!==e.enc?((0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",a,[(0,s._)("div",o,[(0,s._)("img",{src:l(76209)("./"+e.getLogo()),style:{width:"110%"}},null,8,n)]),(0,s._)("div",r,[(0,s._)("div",d,(0,c.zw)(e.enc.Emisor),1),(0,s._)("div",u,(0,c.zw)(e.enc.NombreComercial),1),(0,s._)("div",_,"NIT: "+(0,c.zw)(e.enc.Nit),1),(0,s._)("div",v,(0,c.zw)(e.enc.Direccion),1),(0,s._)("div",b,"TELÉFONO: "+(0,c.zw)(e.enc.Telefono),1)]),(0,s._)("div",w,[h,g,(0,s._)("div",E,(0,c.zw)(e.enc.Contingecia),1),(0,s._)("div",T,"FECHA: "+(0,c.zw)(e.enc.Fecha),1),(0,s._)("div",m,"NUMERO INTERNO:"+(0,c.zw)(e.enc.Serie)+"|"+(0,c.zw)(e.enc.Factura),1)]),x]),(0,s._)("div",C,[(0,s._)("div",p,[N,(0,s._)("div",A,(0,c.zw)(e.enc.NombreCliente),1),S,(0,s._)("div",f,(0,c.zw)(e.enc.NitCliente),1)]),(0,s._)("div",D,[I,(0,s._)("div",L,(0,c.zw)(e.enc.DireccionCliente),1)]),(0,s._)("div",O,[z,R,k,(0,s._)("div",y,(0,c.zw)(e.enc.Vendedor),1)]),(0,s.Wm)(_e,{class:"fill-black",flat:"",square:"",bordered:"",separator:"cell"},{default:(0,s.w5)((()=>[F,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.detalles,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",q,[(0,s._)("div",P,(0,c.zw)(e.Cantidad),1)]),(0,s._)("td",U,[(0,s._)("div",M,(0,c.zw)(e.Descripcion),1)]),(0,s._)("td",H,[(0,s._)("div",G,(0,c.zw)(e.Precio),1)]),(0,s._)("td",B,[(0,s._)("div",Z,(0,c.zw)(e.Subtotal),1)])])))),128))])])),_:1}),(0,s._)("div",Q,[$,(0,s._)("div",J,[(0,s._)("div",W,[K,(0,s._)("div",V,(0,c.zw)(e.subTotal.toFixed(2)),1)]),(0,s._)("div",X,[Y,(0,s._)("div",j,(0,c.zw)(e.enc.Descuento.toFixed(2)),1)]),(0,s._)("div",null,[(0,s._)("div",ee,[te,(0,s._)("div",le,(0,c.zw)(e.enc.Total.toFixed(2)),1)])])])])]),se,ce,ie,ae,oe])):(0,s.kq)("",!0)}var re=l(34136),de=l(32222),ue=l(67825),_e=l(68651),ve=l(84619),be=l(60499),we=l(17779),he=function(e,t,l,s){function c(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function a(e){try{n(s.next(e))}catch(t){i(t)}}function o(e){try{n(s["throw"](e))}catch(t){i(t)}}function n(e){e.done?l(e.value):c(e.value).then(a,o)}n((s=s.apply(e,t||[])).next())}))};const ge=(0,s.aZ)({setup(){const e=(0,ve.z)(),t=(0,be.iH)(null),l=(0,be.iH)(""),s=(0,be.iH)([]),c=(0,be.iH)(null),i=(0,be.iH)(!1),a=(0,be.iH)(0),o=()=>he(this,void 0,void 0,(function*(){i.value=!0,null!=t.value&&(yield re.api.get(re.endPoints.FACTURAR,(0,re.configApi)({serie:l.value,queryParams:{numeroFactura:t.value}})).then((e=>{if(null===e.data.Encabezado)return(0,_e.x2)("No existe la factura"),void setTimeout((()=>{window.close()}),1500);c.value=e.data.Encabezado,s.value=e.data.Detalles,s.value.map((e=>{a.value+=e.Subtotal;let t=0,l=0;t=e.Precio,l=e.Subtotal;let s=t.toString().split(".");if(s[0].length>=4&&s[1].length>=3)e.Precio=s[0]+". "+s[1];else if(s[0].length>=8){let l=t.toString(),s=l.substring(0,8)+" "+l.substring(8,l.length);e.Precio=s}else e.Precio=e.Precio.toFixed(2);if(s=e.Subtotal.toString().split("."),s[0].length>3&&s[1].length>2)e.Subtotal=s[0]+". "+s[1];else if(s[0].length>=8){let t=l.toString(),s=t.substring(0,8)+" "+t.substring(8,t.length);e.Subtotal=s}else e.Subtotal=e.Subtotal.toFixed(2)}))})).catch((e=>{(0,_e.L1)(e)})).finally((()=>{i.value=!1})),null!==c.value?setTimeout((()=>{(0,ue.Qe)()?(0,de.Bx)("documento","letter"):n()}),500):setTimeout((()=>{window.close()}),1e3))})),n=()=>he(this,void 0,void 0,(function*(){we.log("creando b64");let e=document.getElementById("documento"),t=yield(0,de.UC)(e,"letter");(0,de.EW)((0,ue.LX)(),"facturaContingencia.pdf",{docBase64:t}).then((e=>{we.log(e)})).catch((e=>{we.log("err: ",e)})).finally((()=>{window.close()}))}));return{getData:o,getLogo:ue.R7,facturacion:e,numeroFactura:t,serie:l,enc:c,detalles:s,subTotal:a}},created(){this.numeroFactura=this.$router.currentRoute.value.params.Factura.toString(),this.serie=this.$router.currentRoute.value.params.Serie.toString(),this.$router.currentRoute.value.query.print,this.getData()}});var Ee=l(11639),Te=l(66933),me=l(84277),xe=l(69984),Ce=l.n(xe);const pe=(0,Ee.Z)(ge,[["render",ne]]),Ne=pe;Ce()(ge,"components",{QMarkupTable:Te.Z,QTable:me.Z})}}]);