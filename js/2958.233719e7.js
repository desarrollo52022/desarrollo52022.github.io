"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[2958],{82958:(e,n,l)=>{l.r(n),l.d(n,{default:()=>H});var a=l(59835),o=l(86970);const t={class:"row justify-center q-ma-md"},s={class:"col-12 col-sm-6 col-md-6"},u={class:"q-ma-sm"},i={class:"row q-ma-md"};function r(e,n,r,c,d,p){const m=(0,a.up)("install-banner"),w=(0,a.up)("q-spinner-cube"),g=(0,a.up)("q-slide-transition"),f=(0,a.up)("q-img"),h=(0,a.up)("q-card-section"),b=(0,a.up)("q-input"),v=(0,a.up)("q-icon"),y=(0,a.up)("q-btn"),k=(0,a.up)("q-form"),q=(0,a.up)("q-card"),Z=(0,a.up)("q-page"),_=(0,a.up)("q-page-container"),W=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m),(0,a._)("div",t,[(0,a._)("div",s,[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[e.loading?((0,a.wg)(),(0,a.j4)(w,{key:0,color:"blue",size:"100%"})):(0,a.kq)("",!0)])),_:1}),e.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(q,{key:0,class:"bg-dark text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[e.getLogo()?((0,a.wg)(),(0,a.j4)(f,{key:0,class:"bg-white q-pa-md",src:l(76209)("./"+e.getLogo()),style:{"max-width":"100%",height:"150px"},fit:"contain","spinner-color":"primary","spinner-size":"82px"},null,8,["src"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(h,{class:"center",id:"login-sucursal"},{default:(0,a.w5)((()=>[(0,a._)("h4",u,"Login "+(0,o.zw)(e.empresa),1)])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{onSubmit:e.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{dark:"",color:"white",autofocus:"",modelValue:e.user,"onUpdate:modelValue":n[0]||(n[0]=n=>e.user=n),type:"text",label:"Usuario",rules:[e=>e&&e.length>0||"Ingrese el usuario"]},null,8,["modelValue","rules"]),(0,a.Wm)(b,{dark:"",for:"login-pass",label:"Contraseña",modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n),type:e.showPassword?"text":"password",rules:[e=>e&&e.length>0||"Ingrese una contraseña"]},{prepend:(0,a.w5)((()=>[(0,a.Wm)(v,{name:"lock",color:"white"})])),append:(0,a.w5)((()=>[(0,a.Wm)(v,{name:e.showPassword?"visibility":"visibility_off",onClick:e.changeShow,color:"white"},null,8,["name","onClick"])])),_:1},8,["modelValue","type","rules"]),(0,a._)("div",i,[(0,a.Wm)(y,{id:"login-submit",color:"primary",label:"Ingresar",class:"col-12",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})),(0,a.Wm)(y,{class:"full-width",color:"secondary",icon:"storefront",label:"POS",onClick:e.validarDatos},null,8,["onClick"])])])])),_:1})])),_:1})])),_:1})}var c=l(60499),d=l(18910),p=l(34136),m=l(68651),w=l(67825),g=l(37655),f=l(61563),h=function(e,n,l,a){function o(e){return e instanceof l?e:new l((function(n){n(e)}))}return new(l||(l=Promise))((function(l,t){function s(e){try{i(a.next(e))}catch(n){t(n)}}function u(e){try{i(a["throw"](e))}catch(n){t(n)}}function i(e){e.done?l(e.value):o(e.value).then(s,u)}i((a=a.apply(e,n||[])).next())}))};const b=(0,a.aZ)({setup(){(0,w.ov)(),(0,w.RY)(),(0,w.gy)();const e=(0,d.tv)(),n=(0,c.iH)((0,w.oc)()),l=(0,c.iH)(!1);let a=(0,c.iH)(""),o=(0,c.iH)(""),t=(0,c.iH)(!1),s=(0,c.iH)(!1);const u=()=>{!0===t.value?t.value=!1:t.value=!0},i=()=>h(this,void 0,void 0,(function*(){let n={User:a.value,Pass:o.value};l.value=!0,(0,g.Q)(),yield p.api.post(p.endPoints.USUARIO,n).then((n=>{null!==n.data?((0,w.$V)(a.value),(0,w.o4)(n.data.Token),(0,m.dF)("Bienvenid@ "+a.value),e.replace("/ADMIN")):(0,m.x2)("Contraseña incorrecta")})).catch((e=>{(0,m.L1)(e)})).finally((()=>{l.value=!0,(0,g.E)()}))})),r=()=>{let n=(0,w.Zf)(),l=(0,w.dS)(),a=(0,w.oc)();if(null===n||null===l||null===a||""===a)e.push("/");else{const o="/"+a+"/LOGIN/"+n+"/"+l;e.push(o)}};return{empresa:n,user:a,password:o,showPassword:t,loading:s,loadLogin:l,changeShow:u,onSubmit:i,getLogo:w.R7,validarDatos:r}},created(){},mounted(){},beforeRouteUpdate(e){},beforeMount(){this.$nextTick((()=>{}))},components:{InstallBanner:f.Z}});var v=l(11639),y=l(20249),k=l(12133),q=l(69885),Z=l(69003),_=l(49155),W=l(44458),Q=l(63190),C=l(91487),S=l(8326),x=l(13119),I=l(22857),P=l(68879),L=l(69984),U=l.n(L);const V=(0,v.Z)(b,[["render",r]]),H=V;U()(b,"components",{QLayout:y.Z,QPageContainer:k.Z,QPage:q.Z,QSlideTransition:Z.Z,QSpinnerCube:_.Z,QCard:W.Z,QCardSection:Q.Z,QImg:C.Z,QForm:S.Z,QInput:x.Z,QIcon:I.Z,QBtn:P.Z})}}]);