"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[4342],{44342:(t,l,e)=>{e.r(l),e.d(l,{default:()=>Pt});var s=e(59835),i=e(86970);const n={class:"notPrint"},a={class:"q-pa-sm report-letter",id:"documento"},o={class:"fit",id:"tableToDownload"},d=(0,s._)("tr",null,[(0,s._)("th",{style:{width:"25%"}}),(0,s._)("th",{style:{width:"25%"}}),(0,s._)("th",{style:{width:"25%"}}),(0,s._)("th",{style:{width:"25%"}})],-1),r={colspan:"4"},c={class:"row justify-center text-center"},u=["src"],_=(0,s._)("tr",null,null,-1),v=(0,s._)("tr",null,null,-1),b=(0,s._)("td",null,null,-1),h=(0,s._)("td",null,null,-1),w={colspan:"2"},p={class:"bg-black text-white text-h6 q-pa-sm"},x={colspan:"2"},y=(0,s._)("div",{class:""},null,-1),E=(0,s._)("div",{class:"text-subtitle2"},"Señor(a)",-1),f={class:""},m=(0,s._)("div",{class:""},"Presente",-1),L={colspan:"2"},k=(0,s._)("div",{class:""},"Fecha de cotizacion",-1),D={class:""},P=(0,s._)("div",{class:""},"Vendedor: ",-1),T=(0,s._)("tr",null,null,-1),g={colspan:"4"},z=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"borderEx",style:{width:"15%"}},"Producto"),(0,s._)("th",{class:"borderEx",style:{width:"25%"}},"Descripcion"),(0,s._)("th",{class:"borderEx",style:{width:"8%"}},"Lote"),(0,s._)("th",{class:"borderEx",style:{width:"15%"}},"Descripcion Lote"),(0,s._)("th",{class:"borderEx",style:{width:"10%"}},"Cantidad"),(0,s._)("th",{class:"borderEx",style:{width:"11%"}},"Precio"),(0,s._)("th",{class:"borderEx",style:{width:"11%"}},"Subtotal")])],-1),H={class:"borderEx"},M={class:"break2Lines"},C={class:"borderEx"},q={class:"break2Lines"},S={class:"borderEx"},N={class:"break2Lines"},F={class:"borderEx"},Y={class:"break2Lines"},j={class:"borderEx"},Q={class:"break2Lines"},R={class:"borderEx"},Z={class:"break2Lines"},I={class:"borderEx"},O={class:"break2Lines"},A={class:"row col-12 justify-end"},U={class:"text-h6 q-pa-sm q-mr-sm"},B=(0,s._)("tr",null,null,-1),V={colspan:"4"},W={class:"col-12 text-subtitle2"},G=(0,s.Uk)(" OBSERVACIONES: "),K=(0,s._)("br",null,null,-1),$=["innerHTML"],J=(0,s._)("tr",null,null,-1),X=(0,s._)("tr",null,null,-1),tt={colspan:"4"},lt={class:"row col-12",id:"pruebasUltimo"},et=(0,s._)("div",{class:"row col-12 justify-center"},[(0,s._)("div",{class:"text-subtitle2"},[(0,s.Uk)(" ATENTAMENTE,"),(0,s._)("br")])],-1),st={class:"row col-12 justify-center"},it={class:"text-subtitle2"},nt=["innerHTML"],at={class:"row col-12 justify-center"},ot={class:"text-subtitle2"},dt=["innerHTML"];function rt(t,l,rt,ct,ut,_t){var vt;const bt=(0,s.up)("q-btn"),ht=(0,s.up)("q-markup-table");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",n,[(0,s.Wm)(bt,{color:"primary",icon:"print",label:"Exportar a Excel",onClick:t.convert},null,8,["onClick"])]),(0,s._)("div",a,[(0,s._)("table",o,[d,(0,s._)("tr",null,[(0,s._)("td",r,[(0,s._)("div",c,[(0,s._)("img",{src:e(76209)("./"+t.getLogo()),width:"250",class:"q-ma-md"},null,8,u)])])]),_,v,(0,s._)("tr",null,[b,h,(0,s._)("td",w,[(0,s._)("div",p,"Cotización No. "+(0,i.zw)(t.numeroPedido),1)])]),(0,s._)("tr",null,[(0,s._)("td",x,[y,E,(0,s._)("div",f,(0,i.zw)(null===(vt=t.enc)||void 0===vt?void 0:vt.Nombre),1),m]),(0,s._)("td",L,[k,(0,s._)("div",D,"Fecha pedido: "+(0,i.zw)(t.fecha),1),P])]),T,(0,s._)("tr",null,[(0,s._)("td",g,[(0,s.Wm)(ht,{class:"fill-black",flat:"",square:"",bordered:"",separator:"cell"},{default:(0,s.w5)((()=>[z,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.detalles,((t,l)=>((0,s.wg)(),(0,s.iD)("tr",{key:l},[(0,s._)("td",H,[(0,s._)("div",M,(0,i.zw)(t.Producto),1)]),(0,s._)("td",C,[(0,s._)("div",q,(0,i.zw)(t.Descripcion),1)]),(0,s._)("td",S,[(0,s._)("div",N,(0,i.zw)(t.Lote),1)]),(0,s._)("td",F,[(0,s._)("div",Y,(0,i.zw)(t.DescripcionLote),1)]),(0,s._)("td",j,[(0,s._)("div",Q,(0,i.zw)(t.Cantidad),1)]),(0,s._)("td",R,[(0,s._)("div",Z," Q."+(0,i.zw)(t.Precio.toFixed(2)),1)]),(0,s._)("td",I,[(0,s._)("div",O," Q."+(0,i.zw)(t.Subtotal.toFixed(2)),1)])])))),128))])])),_:1}),(0,s._)("div",A,[(0,s._)("div",U,"Total: Q."+(0,i.zw)(t.subTotal.toFixed(2)),1)])])]),B,(0,s._)("tr",null,[(0,s._)("td",V,[(0,s._)("div",W,[G,K,(0,s._)("div",{innerHTML:t.textos[0]},null,8,$)])])]),J,X,(0,s._)("tr",null,[(0,s._)("td",tt,[(0,s._)("div",lt,[et,(0,s._)("div",st,[(0,s._)("div",it,[(0,s._)("div",{innerHTML:t.textos[1]},null,8,nt)])]),(0,s._)("div",at,[(0,s._)("div",ot,[(0,s._)("div",{innerHTML:t.textos[2]},null,8,dt)])])])])])])])],64)}var ct=e(34136),ut=e(68651),_t=e(60499),vt=e(54170),bt=e(32222),ht=e(67825),wt=e(75700),pt=e(78618),xt=(e(17779),function(t,l,e,s){function i(t){return t instanceof e?t:new e((function(l){l(t)}))}return new(e||(e=Promise))((function(e,n){function a(t){try{d(s.next(t))}catch(l){n(l)}}function o(t){try{d(s["throw"](t))}catch(l){n(l)}}function d(t){t.done?e(t.value):i(t.value).then(a,o)}d((s=s.apply(t,l||[])).next())}))});const yt=(0,s.aZ)({setup(){const t=(0,_t.iH)(null),l=(0,_t.iH)(""),e=(0,_t.iH)([]),s=(0,_t.iH)(0),i=(0,_t.iH)(0),n=(0,_t.iH)([]),a=()=>xt(this,void 0,void 0,(function*(){yield ct.api.get(ct.endPoints.PEDIDOENC+s.value).then((e=>xt(this,void 0,void 0,(function*(){e.data.Pedido?(t.value=e.data.Pedido,l.value=vt.ZP.formatDate(t.value.Fecha,"DD-MMMM-YYYY"),yield o()):(0,ut.x2)("No existe el pedido")})))).catch((t=>{(0,ut.L1)(t)})),null!==t.value?(n.value=yield(0,wt.E)("Cotizacion"),yield(0,pt._R)(500),d()):(yield(0,pt._R)(2e3),window.close())})),o=()=>xt(this,void 0,void 0,(function*(){yield ct.api.get(ct.endPoints.PEDIDODET+s.value).then((t=>{e.value=t.data.Detalles,i.value=0,e.value.map((t=>{i.value+=t.Subtotal}))})).catch((t=>{(0,ut.L1)(t)}))})),d=()=>{const t="\n        .borderEx{\n          border: 1px solid;\n        }\n      ";(0,bt.Gn)("tableToDownload","Cotizacion","cotizacion_"+s.value.toString()+".xls",t)};return{getData:a,getLogo:ht.R7,convert:d,numeroPedido:s,enc:t,fecha:l,detalles:e,subTotal:i,textos:n}},created(){this.numeroPedido=parseInt(this.$router.currentRoute.value.params.Pedido.toString()),this.getData()}});var Et=e(11639),ft=e(68879),mt=e(66933),Lt=e(69984),kt=e.n(Lt);const Dt=(0,Et.Z)(yt,[["render",rt]]),Pt=Dt;kt()(yt,"components",{QBtn:ft.Z,QMarkupTable:mt.Z})}}]);