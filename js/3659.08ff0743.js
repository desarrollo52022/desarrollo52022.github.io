"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[3659],{43659:(e,l,o)=>{o.r(l),o.d(l,{default:()=>N});var t=o(59835);const n={class:"row"},i={class:"col"},a={class:"col"},r=["src"];function c(e,l,o,c,s,u){const p=(0,t.up)("q-icon"),d=(0,t.up)("q-input"),m=(0,t.up)("q-table"),g=(0,t.up)("q-btn"),f=(0,t.up)("q-img"),w=(0,t.up)("q-td"),b=(0,t.up)("q-card-section"),h=(0,t.up)("q-card-actions"),v=(0,t.up)("q-card"),D=(0,t.up)("q-dialog"),C=(0,t.up)("q-page"),y=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(C,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t._)("div",i,[(0,t.Wm)(m,{title:"Clientes",rows:e.clientes,columns:e.columns,"row-key":"name",onRowClick:l[1]||(l[1]=(l,o,t)=>{e.getDocumentos(o.Cliente)}),style:{height:"85vh"},"rows-per-page-options":[0],filter:e.filter,loading:e.loadClientes},{"top-right":(0,t.w5)((()=>[(0,t.Wm)(d,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=l=>e.filter=l),placeholder:"Buscar"},{append:(0,t.w5)((()=>[(0,t.Wm)(p,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter","loading"])]),(0,t._)("div",a,[(0,t.Wm)(m,{title:"Documentos",rows:e.documentos,columns:e.columnsDocumentos,"row-key":"name",style:{height:"85vh"},"rows-per-page-options":[0],loading:e.loadDocumentos,dense:""},{"body-cell-Imagen":(0,t.w5)((l=>[(0,t.Wm)(w,{props:l},{default:(0,t.w5)((()=>["PDF"==l.row.Tipo?((0,t.wg)(),(0,t.iD)("iframe",{key:0,src:l.row.Doc,style:{border:"0",top:"0px",left:"0px",bottom:"0px",right:"0px",width:"350px",height:"350px"},allowfullscreen:""},null,8,r)):((0,t.wg)(),(0,t.j4)(f,{key:1,src:l.row.Doc,width:"250px",height:"250px","spinner-color":"primary","spinner-size":"50px"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{flat:"",round:"",icon:"visibility",class:"absolute all-pointer-events",size:"md",color:"blue",style:{top:"8px",left:"5px"},onClick:()=>{e.dialog=!0,e.imgSelect=l.row.Doc}},null,8,["onClick"]),(0,t.Wm)(g,{flat:"",round:"",icon:"print",class:"absolute all-pointer-events",size:"md",color:"black",style:{top:"8px",left:"45px"},onClick:()=>{e.openImage(l.row.Doc)}},null,8,["onClick"])])),_:2},1032,["src"]))])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading"])])]),(0,t.Wm)(D,{modelValue:e.dialog,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dialog=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"row items-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{src:e.imgSelect,width:"600px","spinner-color":"primary","spinner-size":"82px"},null,8,["src"])])),_:1}),(0,t.Wm)(h,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(g,{flat:"",label:"Cancel",color:"primary"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var s=o(34136),u=o(68651),p=o(60499),d=function(e,l,o,t){function n(e){return e instanceof o?e:new o((function(l){l(e)}))}return new(o||(o=Promise))((function(o,i){function a(e){try{c(t.next(e))}catch(l){i(l)}}function r(e){try{c(t["throw"](e))}catch(l){i(l)}}function c(e){e.done?o(e.value):n(e.value).then(a,r)}c((t=t.apply(e,l||[])).next())}))};const m=[{required:!0,name:"Cliente",label:"Cliente",field:"Cliente",align:"center",sortable:!0},{name:"Nombre",label:"Nombre",field:"Nombre",align:"center",sortable:!0,format:e=>`${e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}`},{name:"Nit",label:"Nit",field:"Nit",align:"center",sortable:!0},{name:"Direccion",label:"DirecciÃ³n",field:"Direccion",align:"center",sortable:!0},{name:"Dpi",label:"Dpi",field:"Dpi",align:"center",sortable:!0}],g=[{required:!0,name:"Documento",label:"Documento",field:"Documento",align:"center",sortable:!0},{name:"Tipo",label:"Tipo",field:"Tipo",align:"center",sortable:!0},{name:"Imagen",label:"Imagen",field:"Imagen",align:"center",sortable:!0}],f=(0,t.aZ)({setup(){const e=(0,p.iH)([]),l=(0,p.iH)([]),o=(0,p.iH)(!1),t=(0,p.iH)(!1),n=(0,p.iH)(!1),i="",a=s.api.defaults.baseURL+"/drive/",r=()=>d(this,void 0,void 0,(function*(){o.value=!0,yield s.api.get("api/CLIENTES_DOCUMENTO/").then((l=>{e.value=l.data})).catch((e=>{(0,u.L1)(e)})),o.value=!1})),c=e=>d(this,void 0,void 0,(function*(){t.value=!0,yield s.api.get("api/CLIENTES_DOCUMENTO/",(0,s.configApi)({queryParams:{id:e}})).then((e=>{l.value=e.data})).catch((e=>{(0,u.L1)(e)})),t.value=!1})),f=e=>{var l=window.open();null===l||void 0===l||l.document.write('<iframe src="'+e+'"  style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')};return{clientes:e,documentos:l,columns:m,columnsDocumentos:g,filter:(0,p.iH)(""),loadClientes:o,loadDocumentos:t,dialog:n,imgSelect:i,serverUri:a,getClientes:r,getDocumentos:c,openImage:f}},created(){this.getClientes()}});var w=o(11639),b=o(69885),h=o(84277),v=o(13119),D=o(22857),C=o(67220),y=o(91487),x=o(68879),_=o(32074),k=o(44458),q=o(63190),Z=o(11821),W=o(62146),Q=o(69984),T=o.n(Q);const I=(0,w.Z)(f,[["render",c]]),N=I;T()(f,"components",{QPage:b.Z,QTable:h.Z,QInput:v.Z,QIcon:D.Z,QTd:C.Z,QImg:y.Z,QBtn:x.Z,QDialog:_.Z,QCard:k.Z,QCardSection:q.Z,QCardActions:Z.Z}),T()(f,"directives",{ClosePopup:W.Z})}}]);