"use strict";(globalThis["webpackChunkposweb"]=globalThis["webpackChunkposweb"]||[]).push([[3835],{13835:(e,n,t)=>{t.r(n),t.d(n,{default:()=>U});var a=t(59835),o=t(86970);const i=(0,a.Uk)("Anular Factura en FEL");function l(e,n,t,l,u,c){const r=(0,a.up)("q-btn"),s=(0,a.up)("q-item-section"),p=(0,a.up)("q-item"),d=(0,a.up)("q-separator"),w=(0,a.up)("q-list"),m=(0,a.up)("q-menu"),f=(0,a.up)("q-td"),h=(0,a.up)("q-tr"),g=(0,a.up)("q-table"),b=(0,a.up)("q-page"),F=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{padding:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{color:"primary",icon:"refresh",label:"Cargar facturas",onClick:e.getPendientes},null,8,["onClick"]),(0,a.Wm)(g,{title:"Pendientes Anular",rows:e.rows,columns:e.columns,"row-key":"Uuid","rows-per-page-options":[0]},{body:(0,a.w5)((n=>[(0,a.Wm)(h,{props:n},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{"touch-position":"","context-menu":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(p,{class:"bg-blue",clickable:"",onClick:t=>e.anularFactura(n.row.Uuid)},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[i])),_:1})])),_:2},1032,["onClick"])),[[F]]),(0,a.Wm)(d)])),_:2},1024)])),_:2},1024),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.cols,(e=>((0,a.wg)(),(0,a.j4)(f,{key:e.name,props:n},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.value),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1})}var u=t(34136),c=t(67825),r=t(68651),s=t(60499),p=function(e,n,t,a){function o(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,i){function l(e){try{c(a.next(e))}catch(n){i(n)}}function u(e){try{c(a["throw"](e))}catch(n){i(n)}}function c(e){e.done?t(e.value):o(e.value).then(l,u)}c((a=a.apply(e,n||[])).next())}))};const d=[{name:"Fecha",label:"Fecha Factura",field:"Fecha",align:"center"},{name:"Serie",label:"Serie",field:"Serie",align:"center"},{name:"Factura",label:"Factura",field:"Factura",align:"center"},{name:"UUID",label:"UUID",field:"Uuid",align:"center"},{name:"MotivoAnulacion",label:"Motivo AnulaciÃ³n",field:"MotivoAnulacion",align:"center"}],w=(0,a.aZ)({setup(){const e=(0,s.iH)([]),n=()=>p(this,void 0,void 0,(function*(){yield u.api.get(u.endPoints.FACTURAS+"PendientesAnular").then((n=>{e.value=n.data.FacturasPendientes})).catch((e=>{(0,r.L1)(e)}))})),t=e=>p(this,void 0,void 0,(function*(){yield u.api.post(u.endPoints.FACTURAR+"Anular",e).then((t=>{(0,r.dF)("Factura anulada correctamente "+e);window.open(c.qC+e);n()})).catch((e=>{(0,r.L1)(e)}))}));return{getPendientes:n,anularFactura:t,rows:e,columns:d}},created(){this.getPendientes()}});var m=t(11639),f=t(69885),h=t(68879),g=t(84277),b=t(31233),F=t(56362),v=t(13246),k=t(490),Z=t(76749),q=t(50926),y=t(67220),A=t(62146),C=t(69984),P=t.n(C);const Q=(0,m.Z)(w,[["render",l]]),U=Q;P()(w,"components",{QPage:f.Z,QBtn:h.Z,QTable:g.Z,QTr:b.Z,QMenu:F.Z,QList:v.Z,QItem:k.Z,QItemSection:Z.Z,QSeparator:q.Z,QTd:y.Z}),P()(w,"directives",{ClosePopup:A.Z})}}]);